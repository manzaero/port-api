(function(){"use strict";var e={5803:function(e,t,r){var a=r(9242),n=r(3396);function o(e,t,r,a,o,s){return a.layout?((0,n.wg)(),(0,n.j4)((0,n.LL)(a.layout+"-layout"),{key:0})):(0,n.kq)("",!0)}const s={class:"container with-nav"};function l(e,t,r,a,o,l){const u=(0,n.up)("the-navbar"),i=(0,n.up)("app-message"),c=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(u),(0,n._)("div",s,[(0,n.Wm)(i),(0,n.Wm)(c)])],64)}var u=r(7139);const i={class:"navbar"},c=(0,n._)("h3",null,"Упаравление",-1),m={class:"navbar-menu"};function d(e,t,r,o,s,l){const d=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("nav",i,[c,(0,n._)("small",null,"привет: "+(0,u.zw)(e.user),1),(0,n._)("ul",m,[(0,n._)("li",null,[(0,n.Wm)(d,{to:"/"},{default:(0,n.w5)((()=>[(0,n.Uk)("Категории")])),_:1})]),(0,n._)("li",null,[(0,n.Wm)(d,{to:"/add"},{default:(0,n.w5)((()=>[(0,n.Uk)("Добавить")])),_:1})]),(0,n._)("li",null,[(0,n.Wm)(d,{to:"/users"},{default:(0,n.w5)((()=>[(0,n.Uk)("Пользователи")])),_:1})]),(0,n._)("li",null,[(0,n.Wm)(d,{to:"/list"},{default:(0,n.w5)((()=>[(0,n.Uk)("Лист")])),_:1})]),(0,n._)("li",null,[(0,n._)("a",{href:"",onClick:t[0]||(t[0]=(0,a.iM)(((...e)=>o.logout&&o.logout(...e)),["prevent"]))},"Выход")])])])}r(7658);var p=r(2483),g=r(65),f={setup(){const e=(0,p.tv)(),t=(0,g.oR)();return{logout:()=>{t.commit("logout"),e.push("/auth"),console.log("Вышел")}}},computed:{...(0,g.Se)({user:"userName"})},mounted(){return this.user}},h=r(89);const v=(0,h.Z)(f,[["render",d]]);var y=v;const w={class:"alert-title"};function _(e,t,r,a,o,s){return a.message?((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,u.C_)(["alert",a.message.type])},[(0,n._)("p",w,(0,u.zw)(a.title),1),(0,n._)("p",null,(0,u.zw)(a.message.value),1),(0,n._)("span",{class:"alert-close",onClick:t[0]||(t[0]=(...e)=>a.close&&a.close(...e))},"×")],2)):(0,n.kq)("",!0)}var b={setup(){const e=(0,g.oR)(),t={primary:"Успешно",danger:"Ошибка",warning:"Внимание"},r=(0,n.Fl)((()=>e.state.message)),a=(0,n.Fl)((()=>r.value?t[r.value.type]:null));return{message:r,title:a,close:()=>e.commit("clearMessage")}}};const k=(0,h.Z)(b,[["render",_]]);var N=k,E={name:"MainLayout",components:{AppMessage:N,TheNavbar:y}};const q=(0,h.Z)(E,[["render",l]]);var S=q;const C={class:"container_auth"},M={class:"container_alert"};function B(e,t,r,a,o,s){const l=(0,n.up)("app-message"),u=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",C,[(0,n._)("div",M,[(0,n.Wm)(l)]),(0,n.Wm)(u)])}var A={name:"AuthLayout",components:{AppMessage:N}};const O=(0,h.Z)(A,[["render",B]]);var U=O,L={setup(){const e=(0,p.yj)();return{layout:(0,n.Fl)((()=>e.meta.layout))}},components:{MainLayout:S,AuthLayout:U}};const D=(0,h.Z)(L,[["render",o]]);var j=D,P=r(5431);function Z(e,t,r,a,o,s){const l=(0,n.up)("request-table"),u=(0,n.up)("request-modal"),i=(0,n.up)("app-modal"),c=(0,n.up)("app-page"),m=(0,n.up)("app-category");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(c,{title:"Список"},{header:(0,n.w5)((()=>[(0,n._)("button",{class:"btn primary",onClick:t[0]||(t[0]=e=>a.modal=!0)},"Создать")])),default:(0,n.w5)((()=>[(0,n.Wm)(l,{requests:[]}),((0,n.wg)(),(0,n.j4)(n.lR,{to:"body"},[a.modal?((0,n.wg)(),(0,n.j4)(i,{key:0,title:"Создать",onClose:t[2]||(t[2]=e=>a.modal=!1)},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{onCreated:t[1]||(t[1]=e=>a.modal=!1)})])),_:1})):(0,n.kq)("",!0)]))])),_:1}),(0,n.Wm)(m,{category:"Category"})],64)}(0,P.z)("/port-api/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var z=r(4870);const W={class:"card"},F={class:"title"},T=(0,n._)("hr",null,null,-1);function R(e,t,r,a,o,s){return(0,n.wg)(),(0,n.iD)("div",W,[(0,n._)("div",F,(0,u.zw)(r.category),1),T,e.categories?((0,n.wg)(!0),(0,n.iD)(n.HY,{key:0},(0,n.Ko)(e.categories,(t=>((0,n.wg)(),(0,n.iD)("div",{class:"card",key:e.categories.id},[(0,n._)("p",null,"Name: "+(0,u.zw)(t.Name),1),(0,n._)("p",null,"Product has: "+(0,u.zw)(t.HasProduct),1)])))),128)):((0,n.wg)(),(0,n.iD)("button",{key:1,class:"btn primary",onClick:t[0]||(t[0]=(...t)=>e.getCategory&&e.getCategory(...t))},"Загрузить"))])}var x={props:{category:{type:String,require:!0}},computed:(0,g.Se)({categories:"categories"}),methods:(0,g.nv)({getCategory:"getCategory"}),name:"AppCategory"};const $=(0,h.Z)(x,[["render",R]]);var I=$;const H={class:"card"},V={class:"card-title"};function Y(e,t,r,a,o,s){return(0,n.wg)(),(0,n.iD)("div",H,[(0,n._)("h2",V,[(0,n.Uk)((0,u.zw)(r.title)+" ",1),(0,n.WI)(e.$slots,"header")]),(0,n.WI)(e.$slots,"default")])}var J={props:{title:{type:String,required:!0}},setup(e){document.title=`${e.title} | Clone`}};const K=(0,h.Z)(J,[["render",Y]]);var G=K;const Q={key:0,class:"text-center"},X={key:1,class:"table"},ee=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"#"),(0,n._)("th",null,"Ф И О"),(0,n._)("th",null,"Телефон"),(0,n._)("th",null,"Сумма"),(0,n._)("th",null,"Статус"),(0,n._)("th",null,"СОстояние")])],-1),te=(0,n._)("tbody",null,[(0,n._)("tr",null,[(0,n._)("td"),(0,n._)("td"),(0,n._)("td"),(0,n._)("td"),(0,n._)("td"),(0,n._)("td")])],-1),re=[ee,te];function ae(e,t,r,a,o,s){return 0===r.requests.length?((0,n.wg)(),(0,n.iD)("h4",Q,"Пустой список")):((0,n.wg)(),(0,n.iD)("table",X,re))}var ne={props:["requests"]};const oe=(0,h.Z)(ne,[["render",ae]]);var se=oe;const le={class:"modal"},ue={key:0};function ie(e,t,r,a,o,s){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",{class:"modal-backdrop",onClick:t[0]||(t[0]=t=>e.$emit("close"))}),(0,n._)("div",le,[r.title?((0,n.wg)(),(0,n.iD)("h3",ue,(0,u.zw)(r.title),1)):(0,n.kq)("",!0),(0,n.WI)(e.$slots,"default")])],64)}var ce={emits:["close"],props:{title:{type:String}}};const me=(0,h.Z)(ce,[["render",ie]]);var de=me;const pe=(0,n._)("label",{for:"name"},"Наименование категории",-1),ge={key:0},fe=(0,n._)("label",{for:"name"},"Имя",-1),he={key:0},ve=(0,n._)("label",{for:"name"},"Фамилия",-1),ye={key:0},we=(0,n._)("label",{for:"name"},"Почта",-1),_e={key:0},be=(0,n._)("label",{for:"name"},"Телефон",-1),ke={key:0},Ne=["disabled"];function Ee(e,t,r,o,s,l){return(0,n.wg)(),(0,n.iD)("form",{onSubmit:t[10]||(t[10]=(0,a.iM)(((...t)=>e.onSubmit&&e.onSubmit(...t)),["prevent"]))},[(0,n._)("div",{class:(0,u.C_)(["form-control",{invalid:e.nError}])},[pe,(0,n.wy)((0,n._)("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=t=>e.Name=t),onBlur:t[1]||(t[1]=(...t)=>e.nBlur&&e.nBlur(...t))},null,544),[[a.nr,e.Name]]),e.nError?((0,n.wg)(),(0,n.iD)("small",ge,(0,u.zw)(e.nError),1)):(0,n.kq)("",!0)],2),(0,n._)("div",{class:(0,u.C_)(["form-control",{invalid:e.fError}])},[fe,(0,n.wy)((0,n._)("input",{type:"text",id:"name","onUpdate:modelValue":t[2]||(t[2]=t=>e.FirstName=t),onBlur:t[3]||(t[3]=(...t)=>e.fBlur&&e.fBlur(...t))},null,544),[[a.nr,e.FirstName]]),e.fError?((0,n.wg)(),(0,n.iD)("small",he,(0,u.zw)(e.fError),1)):(0,n.kq)("",!0)],2),(0,n._)("div",{class:(0,u.C_)(["form-control",{invalid:e.lError}])},[ve,(0,n.wy)((0,n._)("input",{type:"text",id:"name","onUpdate:modelValue":t[4]||(t[4]=t=>e.LastName=t),onBlur:t[5]||(t[5]=(...t)=>e.lBlur&&e.lBlur(...t))},null,544),[[a.nr,e.LastName]]),e.lError?((0,n.wg)(),(0,n.iD)("small",ye,(0,u.zw)(e.lError),1)):(0,n.kq)("",!0)],2),(0,n._)("div",{class:(0,u.C_)(["form-control",{invalid:e.eError}])},[we,(0,n.wy)((0,n._)("input",{type:"text",id:"name","onUpdate:modelValue":t[6]||(t[6]=t=>e.Email=t),onBlur:t[7]||(t[7]=(...t)=>e.eBlur&&e.eBlur(...t))},null,544),[[a.nr,e.Email]]),e.eError?((0,n.wg)(),(0,n.iD)("small",_e,(0,u.zw)(e.eError),1)):(0,n.kq)("",!0)],2),(0,n._)("div",{class:(0,u.C_)(["form-control",{invalid:e.pError}])},[be,(0,n.wy)((0,n._)("input",{type:"text",id:"name","onUpdate:modelValue":t[8]||(t[8]=t=>e.Phone=t),onBlur:t[9]||(t[9]=(...t)=>e.pBlur&&e.pBlur(...t))},null,544),[[a.nr,e.Phone]]),e.pError?((0,n.wg)(),(0,n.iD)("small",ke,(0,u.zw)(e.pError),1)):(0,n.kq)("",!0)],2),(0,n._)("button",{class:"btn danger",disabled:e.isSubmitting},"Добавить",8,Ne)],32)}var qe=r(5708),Se=r(3634);function Ce(e){const{isSubmitting:t,handleSubmit:r}=(0,qe.cI)({initialValues:{status:"active"}}),{value:a,errorMessage:n,handleBlur:o}=(0,qe.U$)("Name",Se.Z_().trim().required("Введите наименование")),{value:s,errorMessage:l,handleBlur:u}=(0,qe.U$)("FirstName",Se.Z_().trim().required("Введите наименование")),{value:i,errorMessage:c,handleBlur:m}=(0,qe.U$)("LastName",Se.Z_().trim().required("Введите наименование")),{value:d,errorMessage:p,handleBlur:g}=(0,qe.U$)("Email",Se.Z_().trim().required("Введите наименование")),{value:f,errorMessage:h,handleBlur:v}=(0,qe.U$)("Phone",Se.Z_().trim().required("Введите наименование")),y=r(e);return{isSubmitting:t,onSubmit:y,Name:a,nError:n,nBlur:o,FirstName:s,fError:l,fBlur:u,LastName:i,lError:c,lBlur:m,Email:d,eError:p,eBlur:g,Phone:f,pError:h,pBlur:v}}var Me={emits:["created"],setup(e,{emit:t}){const r=(0,g.oR)(),a=async e=>{await r.dispatch("request/create",e),t("created")};return{...Ce(a)}},name:"RequestModal"};const Be=(0,h.Z)(Me,[["render",Ee]]);var Ae=Be,Oe={setup(){const e=(0,z.iH)(!1);return{modal:e}},components:{AppPage:G,AppCategory:I,RequestTable:se,AppModal:de,RequestModal:Ae}};const Ue=(0,h.Z)(Oe,[["render",Z]]);var Le=Ue,De=r(6943);const je=De.Z.create({baseURL:"https://test.octopus.uz/api/v1",headers:{Authorization:"bearer "+JSON.parse(localStorage.getItem("jwt-token"))}});var Pe=je,Ze={namespaced:!0,state(){return{requests:[],Owner:{FirstName:null,LastName:null,Email:null,Phone:null}}},getters:{requestsState(e){return e.requests},firsNameState(e){return e.Owner.FirstName},lastNameState(e){return e.Owner.LastName},emailState(e){return e.Owner.Email},phoneState(e){return e.Owner.Phone}},mutations:{setRequest(e,t){e.requestsState=t},setFirstName(e,t){e.firsNameState=t},setLastName(e,t){e.lastNameState=t},setEmail(e,t){e.emailState=t},setPhone(e,t){e.phoneState=t}},actions:{async create({commit:e,dispatch:t},r){try{const{data:e}=await Pe.post("/category",r);console.log(r),console.log(e),t("setMessage",{value:"Категория успешно создана!",type:"primary"},{root:!0})}catch(a){t("setMessage",{value:a.message,type:"danger"},{root:!0})}}}},ze=r(8288);const We="jwt-token",Fe=[];var Te=(0,g.MT)({plugins:Fe,state(){return{message:null,users:[],token:localStorage.getItem(We),userName:null,categories:null,lists:null,page:1,total:0}},getters:{token(e){return e.token},isAuth(e,t){return!!t.token},categories(e){return e.categories},users(e){return e.users},lists(e){return e.lists},page(e){return e.page},total(e){if(e.total)return Math.ceil(e.total/15)},userName(e){return e.userName}},mutations:{setMessage(e,t){e.message=t},clearMessage(e){e.message=null},setToken(e,t){e.token=t,localStorage.setItem(We,t)},setUserName(e,t){e.userName=t},logout(e){e.token=null,localStorage.removeItem(We)},loadCat(e,t){e.categories=t},loadList(e,t){e.getLists=t},updateUsers(e,t){e.users=t},totalItem(e,t){e.total=t}},actions:{setMessage({commit:e},t){e("setMessage",t),setTimeout((()=>{e("clearMessage")}),5e3)},async login({commit:e,dispatch:t},r){try{const t=await Pe.post("/auth/login",r);e("setToken",JSON.stringify(t.data.access_token));let a=t.data.user.FirstName;e("setUserName",a),e("clearMessage",null,{root:!0})}catch(a){throw t("setMessage",{value:(0,ze.v)(a.message),type:"danger"},{root:!0}),console.log((0,ze.v)(a.message)),console.dir(a),new Error(a)}},async getCategory({commit:e}){try{await Pe.get("/category").then((t=>{let r=t.data.data;e("loadCat",r),console.log(r)}))}catch(t){if(401===t.response.status)return alert("Сессия истекла, пожалуйста авторизируйтесь!"),$e.push("/auth");console.log(t)}},async register({commit:e,dispatch:t},r){try{await Pe.post("auth/register",r)}catch(a){throw t("setMessage",{value:(0,ze.v)(a.message),type:"danger"},{root:!0}),console.log((0,ze.v)(a.message)),new Error(a)}},async getUsers({commit:e},t){try{await Pe.get(`users?page=${t}`).then((t=>{let r=t.data.data,a=t.data.meta.total;e("updateUsers",r),e("totalItem",a)}))}catch(r){if(r.message.length)return alert("Сессия истекла, пожалуйста авторизируйтесь!"),$e.push("/auth");console.log(r.message)}},async getListApi({commit:e}){try{await Pe.get("category/list").then((t=>{let r=t.data.data;e("loadList",r),console.log(r)}))}catch(t){t.message.length&&(alert("Сессия истекла, пожалуйста авторизируйтесь!"),console.log(t)),console.log(t.message)}}},modules:{request:Ze}});const Re=[{path:"/",name:"Home",component:Le,meta:{layout:"main",auth:!0}},{path:"/users",name:"Users",component:()=>r.e(402).then(r.bind(r,5402)),meta:{layout:"main",auth:!0}},{path:"/add",name:"Adding",component:()=>r.e(916).then(r.bind(r,8916)),meta:{layout:"main",auth:!0}},{path:"/auth",name:"Auth",component:()=>r.e(569).then(r.bind(r,9569)),meta:{layout:"auth",auth:!1}},{path:"/list",name:"List",component:()=>r.e(52).then(r.bind(r,52)),meta:{layout:"main",auth:!0}},{path:"/reg",name:"Reg",component:()=>r.e(96).then(r.bind(r,4096)),meta:{layout:"auth",auth:!1}}],xe=(0,p.p7)({history:(0,p.PO)("/port-api/"),routes:Re,linkActiveClass:"active",linkExactActiveClass:"active"});xe.beforeEach(((e,t,r)=>{const a=e.meta.auth;a&&Te.getters.isAuth?r():a&&!Te.getters.isAuth?r("/auth?message=auth"):r()}));var $e=xe,Ie=r(4501);(0,a.ri)(j).component("Paginate",Ie.Z).use(Te).use($e).mount("#app")},8288:function(e,t,r){r.d(t,{v:function(){return n}});const a={"Request failed with status code 422":"Пользователь с таким  номером телефона не найден!","Request failed with status code 401":"Не верно указан пароль!",auth:"Пожалуйста войдите в систему или зарегистрируйтесь"};function n(e){return a[e]?a[e]:"Нет связи с интернетом или сервер не отвечает!"}}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={id:a,loaded:!1,exports:{}};return e[a](o,o.exports,r),o.loaded=!0,o.exports}r.m=e,function(){var e=[];r.O=function(t,a,n,o){if(!a){var s=1/0;for(c=0;c<e.length;c++){a=e[c][0],n=e[c][1],o=e[c][2];for(var l=!0,u=0;u<a.length;u++)(!1&o||s>=o)&&Object.keys(r.O).every((function(e){return r.O[e](a[u])}))?a.splice(u--,1):(l=!1,o<s&&(s=o));if(l){e.splice(c--,1);var i=n();void 0!==i&&(t=i)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[a,n,o]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,a){return r.f[a](e,t),t}),[]))}}(),function(){r.u=function(e){return"js/"+e+"."+{52:"555fb37f",96:"ac39fc74",402:"0a5bc138",569:"46c3de34",916:"96c13488"}[e]+".js"}}(),function(){r.miniCssF=function(e){}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="api:";r.l=function(a,n,o,s){if(e[a])e[a].push(n);else{var l,u;if(void 0!==o)for(var i=document.getElementsByTagName("script"),c=0;c<i.length;c++){var m=i[c];if(m.getAttribute("src")==a||m.getAttribute("data-webpack")==t+o){l=m;break}}l||(u=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.setAttribute("data-webpack",t+o),l.src=a),e[a]=[n];var d=function(t,r){l.onerror=l.onload=null,clearTimeout(p);var n=e[a];if(delete e[a],l.parentNode&&l.parentNode.removeChild(l),n&&n.forEach((function(e){return e(r)})),t)return t(r)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=d.bind(null,l.onerror),l.onload=d.bind(null,l.onload),u&&document.head.appendChild(l)}}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){r.p="/port-api/"}(),function(){var e={143:0};r.f.j=function(t,a){var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var o=new Promise((function(r,a){n=e[t]=[r,a]}));a.push(n[2]=o);var s=r.p+r.u(t),l=new Error,u=function(a){if(r.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var o=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",l.name="ChunkLoadError",l.type=o,l.request=s,n[1](l)}};r.l(s,u,"chunk-"+t,t)}},r.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,o,s=a[0],l=a[1],u=a[2],i=0;if(s.some((function(t){return 0!==e[t]}))){for(n in l)r.o(l,n)&&(r.m[n]=l[n]);if(u)var c=u(r)}for(t&&t(a);i<s.length;i++)o=s[i],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(c)},a=self["webpackChunkapi"]=self["webpackChunkapi"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(5803)}));a=r.O(a)})();
//# sourceMappingURL=app.434716fa.js.map